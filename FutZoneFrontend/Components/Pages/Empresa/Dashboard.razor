@page "/propietario/dashboard"
@using System.Collections.Generic

<PageTitle>Dashboard Propietario - FutZone</PageTitle>

<div class="propietario-dashboard">
    <!-- Header -->
    <div class="dashboard-header">
        <div class="container-fluid">
            <div class="row align-items-center">
                <div class="col">
                    <h1>üìä Dashboard Propietario</h1>
                    <small>Bienvenido a tu centro de control</small>
                </div>
                <div class="col-auto">
                    <div class="header-actions">
                        <button class="btn btn-light me-2" title="Actualizar datos">
                            <i class="bi bi-arrow-clockwise"></i> Actualizar
                        </button>
                        <button class="btn btn-outline-light" title="Configuraci√≥n">
                            <i class="bi bi-gear"></i> Configuraci√≥n
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Contenido Principal -->
    <div class="dashboard-content">
        <div class="container-fluid">

            <!-- KPIs Principales -->
            <div class="row mb-4">
                <div class="col-md-3 mb-3">
                    <div class="kpi-card kpi-ingresos">
                        <div class="kpi-icon">üí∞</div>
                        <div class="kpi-body">
                            <h6>Ingresos Este Mes</h6>
                            <h2>$2,450.50</h2>
                            <small>‚Üë 15% vs mes anterior</small>
                        </div>
                    </div>
                </div>

                <div class="col-md-3 mb-3">
                    <div class="kpi-card kpi-reservas">
                        <div class="kpi-icon">üìÖ</div>
                        <div class="kpi-body">
                            <h6>Reservas Pendientes</h6>
                            <h2>8</h2>
                            <small>‚ö†Ô∏è Requieren acci√≥n</small>
                        </div>
                    </div>
                </div>

                <div class="col-md-3 mb-3">
                    <div class="kpi-card kpi-ocupacion">
                        <div class="kpi-icon">üìä</div>
                        <div class="kpi-body">
                            <h6>Ocupaci√≥n Promedio</h6>
                            <h2>78%</h2>
                            <small>‚Üë 5% vs mes anterior</small>
                        </div>
                    </div>
                </div>

                <div class="col-md-3 mb-3">
                    <div class="kpi-card kpi-clientes">
                        <div class="kpi-icon">üë•</div>
                        <div class="kpi-body">
                            <h6>Clientes Activos</h6>
                            <h2>45</h2>
                            <small>‚ûï 5 nuevos esta semana</small>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Mis Canchas -->
            <div class="section-header">
                <h3>Mis Canchas</h3>
                <small class="text-muted">Estado general de tus canchas</small>
            </div>

            <div class="canchas-grid">
                <div class="cancha-card">
                    <div class="cancha-header">
                        <h5>Cancha Sint√©tica - A</h5>
                        <span class="badge bg-success">Activa</span>
                    </div>
                    <div class="cancha-body">
                        <div class="cancha-stat">
                            <span class="cancha-stat-label">Hoy</span>
                            <span class="cancha-stat-value">3 reservas</span>
                        </div>
                        <div class="cancha-stat">
                            <span class="cancha-stat-label">Ocupaci√≥n</span>
                            <span class="cancha-stat-value">85%</span>
                        </div>
                        <div class="cancha-stat">
                            <span class="cancha-stat-label">Tarifa</span>
                            <span class="cancha-stat-value">$50/hr</span>
                        </div>
                    </div>
                </div>

                <div class="cancha-card">
                    <div class="cancha-header">
                        <h5>Cancha Pasto - B</h5>
                        <span class="badge bg-success">Activa</span>
                    </div>
                    <div class="cancha-body">
                        <div class="cancha-stat">
                            <span class="cancha-stat-label">Hoy</span>
                            <span class="cancha-stat-value">2 reservas</span>
                        </div>
                        <div class="cancha-stat">
                            <span class="cancha-stat-label">Ocupaci√≥n</span>
                            <span class="cancha-stat-value">65%</span>
                        </div>
                        <div class="cancha-stat">
                            <span class="cancha-stat-label">Tarifa</span>
                            <span class="cancha-stat-value">$45/hr</span>
                        </div>
                    </div>
                </div>

                <div class="cancha-card">
                    <div class="cancha-header">
                        <h5>Cancha Techada - C</h5>
                        <span class="badge bg-secondary">Mantenimiento</span>
                    </div>
                    <div class="cancha-body">
                        <div class="cancha-stat">
                            <span class="cancha-stat-label">Hoy</span>
                            <span class="cancha-stat-value">0 reservas</span>
                        </div>
                        <div class="cancha-stat">
                            <span class="cancha-stat-label">Ocupaci√≥n</span>
                            <span class="cancha-stat-value">0%</span>
                        </div>
                        <div class="cancha-stat">
                            <span class="cancha-stat-label">Tarifa</span>
                            <span class="cancha-stat-value">$60/hr</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Reservas Recientes -->
            <div class="section-header">
                <h3>Reservas Recientes</h3>
                <small class="text-muted">Las √∫ltimas solicitudes de reserva</small>
            </div>

            <div class="reservas-list">
                <div class="reserva-item">
                    <div class="reserva-info">
                        <div class="reserva-cancha">Cancha Sint√©tica - A</div>
                        <div class="reserva-detalles">Hoy, 14:00 - 15:00 | Cliente: Juan Mart√≠nez</div>
                    </div>
                    <div>
                        <span class="reserva-status pendiente">Pendiente</span>
                        <button class="btn btn-sm btn-success me-2">Aceptar</button>
                        <button class="btn btn-sm btn-danger">Rechazar</button>
                    </div>
                </div>

                <div class="reserva-item">
                    <div class="reserva-info">
                        <div class="reserva-cancha">Cancha Pasto - B</div>
                        <div class="reserva-detalles">Ma√±ana, 18:00 - 19:00 | Cliente: Carlos L√≥pez</div>
                    </div>
                    <div>
                        <span class="reserva-status confirmada">Confirmada</span>
                        <button class="btn btn-sm btn-secondary disabled">Gestionar</button>
                    </div>
                </div>

                <div class="reserva-item">
                    <div class="reserva-info">
                        <div class="reserva-cancha">Cancha Sint√©tica - A</div>
                        <div class="reserva-detalles">S√°bado, 19:00 - 20:00 | Cliente: Roberto Garc√≠a</div>
                    </div>
                    <div>
                        <span class="reserva-status confirmada">Confirmada</span>
                        <button class="btn btn-sm btn-secondary disabled">Gestionar</button>
                    </div>
                </div>
            </div>

            <!-- Acciones R√°pidas -->
            <div class="section-header">
                <h3>Acciones R√°pidas</h3>
            </div>

            <div class="quick-actions">
                <NavLink href="empresa/canchas" class="action-btn">
                    <span class="action-icon">üèüÔ∏è</span>
                    <div class="action-title">Gestionar Canchas</div>
                    <div class="action-desc">Ver y editar tus canchas</div>
                </NavLink>

                <NavLink href="empresa/reservas" class="action-btn">
                    <span class="action-icon">üìã</span>
                    <div class="action-title">Mis Reservas</div>
                    <div class="action-desc">Administrar todas las reservas</div>
                </NavLink>

                <button class="action-btn" onclick="alert('Funci√≥n disponible pronto')">
                    <span class="action-icon">üìä</span>
                    <div class="action-title">Reportes</div>
                    <div class="action-desc">Generar reportes de ingresos</div>
                </button>

                <button class="action-btn" onclick="alert('Funci√≥n disponible pronto')">
                    <span class="action-icon">‚öôÔ∏è</span>
                    <div class="action-title">Configuraci√≥n</div>
                    <div class="action-desc">Ajustar preferencias y tarifas</div>
                </button>
            </div>

            <!-- √öltimas Transacciones -->
            <div class="section-header">
                <h3>√öltimas Transacciones</h3>
                <small class="text-muted">Historial de pagos y movimientos</small>
            </div>

            <div class="transactions-table">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Fecha</th>
                            <th>Concepto</th>
                            <th>Cliente</th>
                            <th>Monto</th>
                            <th>Estado</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>15 Nov, 2024</td>
                            <td>Reserva Cancha A</td>
                            <td>Juan Mart√≠nez</td>
                            <td class="transaction-amount">+$50.00</td>
                            <td><span class="transaction-status completada">Completada</span></td>
                        </tr>
                        <tr>
                            <td>14 Nov, 2024</td>
                            <td>Comisi√≥n Plataforma</td>
                            <td>FutZone</td>
                            <td class="transaction-amount negative">-$5.00</td>
                            <td><span class="transaction-status completada">Completada</span></td>
                        </tr>
                        <tr>
                            <td>13 Nov, 2024</td>
                            <td>Reserva Cancha B</td>
                            <td>Carlos L√≥pez</td>
                            <td class="transaction-amount">+$45.00</td>
                            <td><span class="transaction-status completada">Completada</span></td>
                        </tr>
                        <tr>
                            <td>12 Nov, 2024</td>
                            <td>Reserva Cancha A</td>
                            <td>Mar√≠a Garc√≠a</td>
                            <td class="transaction-amount">+$50.00</td>
                            <td><span class="transaction-status pendiente">Pendiente</span></td>
                        </tr>
                        <tr>
                            <td>11 Nov, 2024</td>
                            <td>Reserva Cancha A</td>
                            <td>Roberto Fern√°ndez</td>
                            <td class="transaction-amount">+$50.00</td>
                            <td><span class="transaction-status completada">Completada</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Resumen Mensual -->
            <div class="section-header">
                <h3>Resumen Mensual</h3>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="resumen-card">
                        <h5 class="mb-3">Ingresos Brutos</h5>
                        <div class="resumen-item">
                            <span class="resumen-label">Reservas</span>
                            <span class="resumen-valor">$2,500.00</span>
                        </div>
                        <div class="resumen-item">
                            <span class="resumen-label">Otros servicios</span>
                            <span class="resumen-valor">$150.00</span>
                        </div>
                        <div class="resumen-item">
                            <span class="resumen-label"><strong>Total Bruto</strong></span>
                            <span class="resumen-valor"><strong>$2,650.00</strong></span>
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="resumen-card">
                        <h5 class="mb-3">Desagregaci√≥n</h5>
                        <div class="resumen-item">
                            <span class="resumen-label">Comisi√≥n FutZone (5%)</span>
                            <span class="resumen-valor negative" style="color: #ef4444;">-$132.50</span>
                        </div>
                        <div class="resumen-item">
                            <span class="resumen-label">Impuestos (3%)</span>
                            <span class="resumen-valor negative" style="color: #ef4444;">-$79.50</span>
                        </div>
                        <div class="resumen-item">
                            <span class="resumen-label"><strong>Ingreso Neto</strong></span>
                            <span class="resumen-valor"><strong style="color: #10b981;">$2,438.00</strong></span>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

@code {
    protected override async Task OnInitializedAsync()
    {
        // Aqu√≠ ir√≠an llamadas a la API para obtener datos reales
        await Task.CompletedTask;
    }
}
